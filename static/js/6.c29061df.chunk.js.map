{"version":3,"sources":["components/GIFPlayer/GIFPlayer.tsx","routes/Random/Random.tsx"],"names":["GifPlayer","gif","still","title","className","single","height","autoPlay","refPlaceholder","React","useRef","useState","playing","setplaying","toggle","useCallback","removePlaceholder","current","remove","classes","classNames","imageAttr","src","onLoad","onError","heigh","key","onClick","style","ref","alt","gf","GiphyFetch","memo","item","setItem","offset","setOffset","fetchGif","random","limit","then","res","imageItem","data","images","fixed_width","url","width","useEffect","loadNext"],"mappings":"0KA4DeA,EAhDG,SAAC,GAQK,IAPtBC,EAOqB,EAPrBA,IACAC,EAMqB,EANrBA,MACAC,EAKqB,EALrBA,MACAC,EAIqB,EAJrBA,UACAC,EAGqB,EAHrBA,OACAC,EAEqB,EAFrBA,OAEqB,IADrBC,gBACqB,SACfC,EAAiBC,IAAMC,OAAuB,MAD/B,EAESC,mBAASJ,GAFlB,mBAEdK,EAFc,KAELC,EAFK,KAIfC,EAASC,uBAAY,WACrBR,GACJM,GAAYD,KACX,CAACL,EAAUK,IAERI,EAAoBD,uBAAY,WAAO,IAAD,EAC5B,OAAdP,QAAc,IAAdA,GAAA,UAAAA,EAAgBS,eAAhB,SAAyBC,WACxB,IAEGC,EAAUC,IAAW,aAAchB,EAAW,CAClDQ,QAASA,EACTP,OAAQA,IAGNgB,EAAiB,CACnBC,IAAKV,EAAUX,GAAOC,EAAQA,GAASD,EACvCsB,OAAQP,EACRQ,QAASR,GASX,OANAK,EAAUI,MAAQnB,EAEdD,IACFgB,EAAUK,IAAML,EAAUC,KAI1B,yBAAKlB,UAAWe,EAASQ,QAASb,EAAQc,MAAO,CAAEtB,OAAO,GAAD,OAAKA,EAAL,QACvD,yBAAKF,UAAU,gBAEf,yBAAKA,UAAU,cAAcyB,IAAKrB,IAClC,yCAASa,EAAT,CAAoBS,IAAK3B,Q,kFC9CzB4B,EAAK,IAAIC,aADG,oCAoDHvB,cAAMwB,MAjDrB,WAAmB,IAAD,EACQtB,mBAAc,MADtB,mBACTuB,EADS,KACHC,EADG,OAEYxB,mBAAiB,GAF7B,mBAETyB,EAFS,KAEDC,EAFC,KAGVC,EAAWvB,uBAAY,WAC3B,OAAOgB,EAAGQ,OAAO,CAAEH,OAAQA,EAAQI,MAAO,IAAKC,MAAK,SAACC,GACnD,IAAMC,EAAYD,EAAIE,KAAKC,OAAOC,YAElCX,EAAQ,CACNlC,IAAK0C,EAAUI,IACf7C,MAAOyC,EAAUI,IACjB5C,MAAOuC,EAAIE,KAAKzC,MAChBG,OAAQqC,EAAUrC,OAClB0C,MAAOL,EAAUK,aAGpB,CAACZ,IAEJa,qBAAU,WACRX,MACC,CAACA,IAEJ,IAAMY,EAAWnC,uBAAY,WAC3BsB,EAAUD,EAAS,KAClB,CAACA,IAEJ,OACE,yBAAKhC,UAAU,oBACZ8B,EACC,kBAAC,IAAD,CACE9B,UAAU,WACVH,IAAKiC,EAAKjC,IACVC,MAAOgC,EAAKhC,MACZC,MAAO+B,EAAK/B,MACZE,QAAQ,EACRC,OAAQ4B,EAAK5B,OACbC,UAAU,IAGZ,yBAAKH,UAAU,eAAf,cAEF,yBAAKA,UAAU,YACb,4BAAQA,UAAU,aAAauB,QAASuB,GAAxC","file":"static/js/6.c29061df.chunk.js","sourcesContent":["import React, { useState, useCallback } from \"react\";\nimport classNames from \"classnames\";\ninterface IGIFPlayerProps {\n  gif: string;\n  still: string;\n  height: number;\n  single?: boolean;\n  title: string;\n  className: string;\n  autoPlay?: boolean;\n}\n\nconst GifPlayer = ({\n  gif,\n  still,\n  title,\n  className,\n  single,\n  height,\n  autoPlay = false,\n}: IGIFPlayerProps) => {\n  const refPlaceholder = React.useRef<HTMLDivElement>(null);\n  const [playing, setplaying] = useState(autoPlay);\n\n  const toggle = useCallback(() => {\n    if (autoPlay) return;\n    setplaying(!playing);\n  }, [autoPlay, playing]);\n\n  const removePlaceholder = useCallback(() => {\n    refPlaceholder?.current?.remove();\n  }, []);\n\n  const classes = classNames(\"gif_player\", className, {\n    playing: playing,\n    single: single,\n  });\n\n  let imageAttr: any = {\n    src: playing ? gif || still : still || gif,\n    onLoad: removePlaceholder,\n    onError: removePlaceholder,\n  };\n\n  imageAttr.heigh = height;\n\n  if (single) {\n    imageAttr.key = imageAttr.src;\n  }\n\n  return (\n    <div className={classes} onClick={toggle} style={{ height: `${height}px` }}>\n      <div className=\"play_button\"></div>\n\n      <div className=\"placeholder\" ref={refPlaceholder}></div>\n      <img {...imageAttr} alt={title} />\n    </div>\n  );\n};\n\nexport default GifPlayer;\n","import React, { useCallback, useState, useEffect } from \"react\";\nimport { GiphyFetch } from \"@giphy/js-fetch-api\";\n\n// Components\nimport GIFPlayer from \"../../components/GIFPlayer\";\n\n// import { GIFDatum} from \"../../defs/interfaces\"\n\nconst GIPHY_KEY = \"dLTulzVpNZqXjYVV7bCY7SAW2cpASWSk\";\nconst gf = new GiphyFetch(GIPHY_KEY);\n\nfunction Random() {\n  const [item, setItem] = useState<any>(null);\n  const [offset, setOffset] = useState<number>(0);\n  const fetchGif = useCallback(() => {\n    return gf.random({ offset: offset, limit: 1 }).then((res: any) => {\n      const imageItem = res.data.images.fixed_width;\n\n      setItem({\n        gif: imageItem.url,\n        still: imageItem.url,\n        title: res.data.title,\n        height: imageItem.height,\n        width: imageItem.width,\n      });\n    });\n  }, [offset]);\n\n  useEffect(() => {\n    fetchGif();\n  }, [fetchGif]);\n\n  const loadNext = useCallback(() => {\n    setOffset(offset + 1);\n  }, [offset]);\n\n  return (\n    <div className=\"random-container\">\n      {item ? (\n        <GIFPlayer\n          className=\"gif-item\"\n          gif={item.gif}\n          still={item.still}\n          title={item.title}\n          single={true}\n          height={item.height}\n          autoPlay={true}\n        />\n      ) : (\n        <div className=\"gif-loading\">...Loading</div>\n      )}\n      <div className=\"load-new\">\n        <button className=\"btn action\" onClick={loadNext}>\n          Another Random GIF\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(Random);\n"],"sourceRoot":""}